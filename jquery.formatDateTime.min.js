/*!
 * jQuery formatDateTime Plugin
 *
 * Copyright 2012 Adam Gschwender
 * Dual licensed under the MIT or GPL Version 2 licenses.
 */
(function(b){var c={monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ampmNames:["AM","PM"],attribute:"data-datatime"};var a=(((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*10000000);var d=function(m,h,i){var g="";var n=false;var p=0;var o=function(q){var r=(p+1<m.length&&m.charAt(p+1)==q);if(r){p++}return r};var f=function(s,t,q){var r=""+t;if(o(s)){while(r.length<q){r="0"+r}}return r};var l=function(q,s,r,t){return(o(q)?t[s]:r[s])};for(p=0;p<m.length;p++){if(n){if(m.charAt(p)=="'"&&!o("'")){n=false}else{g+=m.charAt(p)}}else{switch(m.charAt(p)){case"a":g+=h.getHours()<12?i.ampmNames[0]:i.ampmNames[1];break;case"d":g+=f("d",h.getDate(),2);break;case"D":g+=l("D",h.getDay(),i.dayNamesShort,i.dayNames);break;case"o":var k=new Date(h.getFullYear(),h.getMonth(),h.getDate()).getTime();var e=new Date(h.getFullYear(),0,0).getTime();g+=f("o",Math.round((k-e)/86400000),3);break;case"g":var j=h.getHours()%12;g+=f("g",(j==0?12:j),2);break;case"h":g+=f("h",h.getHours(),2);break;case"u":g+=f("u",h.getMilliseconds(),3);break;case"i":g+=f("i",h.getMinutes(),2);break;case"m":g+=f("m",h.getMonth()+1,2);break;case"M":g+=l("M",h.getMonth(),i.monthNamesShort,i.monthNames);break;case"s":g+=f("s",h.getSeconds(),2);break;case"y":g+=(o("y")?h.getFullYear():(h.getYear()%100<10?"0":"")+h.getYear()%100);break;case"@":g+=h.getTime();break;case"!":g+=h.getTime()*10000+a;break;case"'":if(o("'")){g+="'"}else{n=true}break;default:g+=m.charAt(p)}}}return g};b.fn.formatDateTime=function(g,f){f=b.extend(c,f);var e=b(this).attr(attr);if(!e){e=b(this).text()}if(e){b(this).text(d(g,new Date(e),f))}return this};b.formatDateTime=function(g,e,f){f=b.extend(c,f);if(!e){return""}return d(g,e,f)}})(jQuery);